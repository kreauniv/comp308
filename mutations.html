
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mutations &#8212; Comp308: Principles of Programming Languages v1 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="mutations">
<h1>Mutations<a class="headerlink" href="#mutations" title="Permalink to this headline">¶</a></h1>
<p>Much in the history of programming languages has been concerned with what we’d
call “imperative” style of programming. This involves thinking of a program as
“performing a sequence of steps” and less as “computing a particular value from
some set of input values”.</p>
<p>While the notion of “sequencing” appears to dominate that description, we need to
look deeper to see why such a sequencing even deserves a mention there.</p>
<p>Let’s look at a typical computer architecture –</p>
<div class="figure align-center" id="id1">
<img alt="A diagram of components of a modern computer. Features a CPU, data storage, program memory, I/O devices and the network." src="_images/computer.png" />
<p class="caption"><span class="caption-text">Core components of a modern “computer”.</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<p>Such a computer features a CPU at the heart, which pull a sequence of instructions
from the “program memory” and “executes” them one by one. Some of these instructions
may ask the CPU to fetch some data from the data storage, or to write data into
some locations in the data storage, or to read/write data to the network or chosen
I/O devices.</p>
<p>So the journey of a program is close enough to how we’ve been expressing the
<code class="code highlight racket docutils literal notranslate"><span class="name"><span class="pre">stack-machine</span></span></code> in earlier sections, except we didn’t have explicit notions
of I/O devices or network. The <code class="code highlight racket docutils literal notranslate"><span class="name"><span class="pre">stack-machine</span></span></code> function serves as our “CPU”
model, the list of instructions or “program” serves as our model of the “program
memory” and the stack and bindings are part of the data storage.</p>
<p>In the “expression evaluator” formulation though, we formulated our language
there as though evaluating an expression has no other consequences than
computing the result value. The “bindings” argument (i.e. the “environment”)
was incidental to this calculation. This corresponds to the stack picture as
well, if we throw away the bindings as a “result” and only consider what’s on
the stack as the intended result.</p>
<p>If you think of data memory as addressed using whole numbers, then both our
languages don’t quite have the equivalent of “read an integer from memory
location 132357” and “write the integer value 42 to memory location 238576”.
With these kinds of operations, it is clear that the order of the operations
critically affects the computation performed. If you write to a memory location
and read it back, you’ll get the value you wrote, but if you read it and then
write a different value back, the value you read in could be something else.</p>
<p>Therefore, the need for sequencing arises (at least in this case) as a side
effect of a model of computation where we’re reading from and writing to
addressable memory locations that’re <strong>mutable</strong>.</p>
<div class="section" id="the-racket-box">
<h2>The Racket “box”<a class="headerlink" href="#the-racket-box" title="Permalink to this headline">¶</a></h2>
<p>Racket provides an entity called a “box” that is akin to a one-element mutable
vector. A box is either empty or has something in it and you can change the
contents of the box.</p>
<div class="highlight-racket notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="k">define</span> <span class="n">b</span> <span class="p">(</span><span class="nb">box</span> <span class="mi">24</span><span class="p">))</span>
<span class="p">(</span><span class="nb">display</span> <span class="p">(</span><span class="nb">unbox</span> <span class="n">b</span><span class="p">))</span>  <span class="c1">; Prints 24</span>
<span class="p">(</span><span class="nb">set-box!</span> <span class="n">b</span> <span class="mi">42</span><span class="p">)</span>
<span class="p">(</span><span class="nb">display</span> <span class="p">(</span><span class="nb">unbox</span> <span class="n">b</span><span class="p">))</span>  <span class="c1">; Prints 42</span>
</pre></div>
</div>
<p>We can treat such a mutable box as a reference to a storage location in data
memory of our computer. The symbol <code class="code highlight racket docutils literal notranslate"><span class="name"><span class="pre">b</span></span></code> in the above example is bound to
this “memory location”. So the <code class="code highlight racket docutils literal notranslate"><span class="name builtin"><span class="pre">unbox</span></span></code> procedure can fetch the contents of
this memory location and the <code class="code highlight racket docutils literal notranslate"><span class="name builtin"><span class="pre">set-box!</span></span></code> procedure can modify its contents.
As seen in the example above, between the first <code class="code highlight racket docutils literal notranslate"><span class="name builtin"><span class="pre">display</span></span></code> call and the
next, something has happened to the box. It is this “something” that we intend
to model in our interpreter. We’ll consider both models – the expression
evaluator we’ve called <code class="code highlight racket docutils literal notranslate"><span class="name"><span class="pre">interp</span></span></code> as well as the <code class="code highlight racket docutils literal notranslate"><span class="name"><span class="pre">stack-machine</span></span></code>.</p>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Comp308: Principles of Programming Languages</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="racket-intro.html">A quick introduction to Racket and Scheme</a></li>
<li class="toctree-l1"><a class="reference internal" href="lambda.html">Lambda - the everything</a></li>
<li class="toctree-l1"><a class="reference internal" href="piclang.html">A language for pictures</a></li>
<li class="toctree-l1"><a class="reference internal" href="machine.html">A mental model for the machine</a></li>
<li class="toctree-l1"><a class="reference internal" href="growing.html">Growing the language</a></li>
<li class="toctree-l1"><a class="reference internal" href="fun.html">Functions and scope</a></li>
<li class="toctree-l1"><a class="reference internal" href="stacks-and-scope.html">Stacks and scope</a></li>
<li class="toctree-l1"><a class="reference internal" href="fun-in-piclang.html">Functions in PicLang</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2022, Srikumar K. S..
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.0.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/mutations.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>